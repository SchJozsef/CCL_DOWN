
head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Conclusion Downmeter</title>

<!-- Bootstrap CSS -->
<link hrefn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npmript>

<style>
  body { background: #f8f9fa; }
  .status-ok { color: green; font-weight: bold; font-size: 1.5rem; }
  .status-error { color: red; font-weight: bold; font-size: 1.5rem; }
  .chart-container { width: 100%; max-width: 700px; margin: 30px auto; }
</style>
</head>

<body class="container py-4">
<h1 class="text-center mb-4">üåê Conclusion Downmeter</h1>

<div class="card p-4 mb-4 text-center shadow">
  <h4>Figyelt oldal:</h4>
  <p><strong>https://sm.cetin.rs/conclusion/Main</strong></p>
  <div id="status" class="status">Ellen≈ërz√©s folyamatban...</div>
</div>

<div class="chart-container">
  <canvas id="statusChart"></canvas>
</div>

<script>
const url = "https://sm.cetin.rs/conclusion/Main";
let chart;
const ctx = document.getElementById('statusChart').getContext('2d');
chart = new Chart(ctx, {
  type: 'line',
  data: {
    labels: [],
    datasets: [{
      label: 'El√©rhet≈ës√©gi √°llapot (%)',
      data: [],
      borderColor: 'green',
      backgroundColor: 'rgba(0,128,0,0.1)',
      fill: true,
      tension: 0.3
    }]
  },
  options: {
    responsive: true,
    scales: {
      y: { min: 0, max: 100, title: { display: true, text: 'El√©rhet≈ës√©g (%)' } }
    }
  }
});

async function checkWebsite() {
  try {
    await fetch(url, { method: 'GET', mode: 'no-cors' });
    document.getElementById("status").textContent = "Az oldal el√©rhet≈ë ‚úÖ";
    document.getElementById("status").className = "status-ok";
    updateChart(100);
  } catch {
    document.getElementById("status").textContent = "Unexpected technical error. Please try later";
    document.getElementById("status").className = "status-error";
    updateChart(0);
  }
}

function updateChart(value) {
  chart.data.labels.push(new Date().toLocaleTimeString());
  chart.data.datasets[0].data.push(value);
  if (chart.data.labels.length > 20) {
    chart.data.labels.shift();
    chart.data.datasets[0].data.shift();
  }
  chart.update();
}

setInterval(checkWebsite, 30000);
checkWebsite();
</script>
</body>
</html>

